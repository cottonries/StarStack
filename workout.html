<!----DO NOT EDIT/DELETE. THIS IS THE NAV BAR NEEDED ON ALL PAGES----->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StarStack</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- START EXTERNAL CSS -->
  <link rel="stylesheet" href="style.css">
</head>
 <body>
 <!-- END EXTERNAL CSS --> 
   
<header class="nav">
  <div class="container">
    <div class="nav-inner" style="justify-content: space-between;">
      
      <div class="brand">
        <div class="logo">✦</div>
        <div>StarStack</div>
      </div>

      <nav class="nav-links">
        <a href="home.html">Home</a> 
        <a href="workout.html" class="active" >Workout</a> <!--ACTIVE TAB IS WORKOUT PAGE-->
        <a href="progress.html">Progress</a>
        <span id="nav-user" style="margin-left: 20px; font-weight: 500;">
    Loading...
  </span>
        <button id="logout-btn" class="btn btn-ghost" style="margin-left: 15px;">
    Logout
  </button>
      </nav>

    </div>
  </div>
</header>
<!----END NAV BAR----->




   
<!--- ADD WORKOUT PAGE CODE HERE--->
<main>
  <section class="hero">
    <div class="container">
      <h1>Find your workout</h1>
      <p>Select intensity and equipment, then press play.</p>
    </div>
  </section>

  <section class="features selector-section">
    <div class="container">
      <div class="feature-card">

        <p class="kicker">Workout Selector</p>
        <h2 class="feature-title">Choose your options</h2>

        <div class="selector-grid">
          <label>
            Intensity
            <select id="intensity">
              <option value="" selected disabled>— Select intensity —</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select>
          </label>

          <label>
            Equipment
            <select id="equipment">
              <option value="" selected disabled>— Select equipment —</option>
              <option value="none">None</option>
              <option value="dumbbells">Dumbbells</option>
              <option value="yoga_mat">Yoga Mat</option>
            </select>
          </label>
        </div>

        <button id="findBtn" class="btn btn-primary">Find Workout</button>
        <p id="msg" class="status"></p>

        <div class="player-wrap">
          <iframe
            id="player"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
          </iframe>
        </div>

      </div>
    </div>
  </section>
</main>


<!----END WORKOUT PAGE CODE----->



<!----DO NOT EDIT/DELETE. THIS IS THE FOOTER NEEDED ON ALL PAGES----->
  </main>

<footer class="footer">
  <div class="container">
    <div class="footer-inner">
      <div class="footer-brand">
        <div class="logo light">✦</div>
        <div>StarStack</div>
      </div>

      <div>
        <p>Contact: wangs99@uw.edu</p>
      </div>
    </div>

    <div class="footer-bottom">
      <p class="disclaimer">
        StarStack does not provide medical advice. Content is for informational purposes only.
      </p>
      <p class="copyright">
        © 2026 StarStack. All rights reserved.
      </p>
    </div>
  </div>
</footer>

<script src="js/app.js" defer></script>
   
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAyHQEc2TKcxERFu_-POYGp6fR_qTyBQK4",
    authDomain: "starstack-7951e.firebaseapp.com",
    projectId: "starstack-7951e",
    storageBucket: "starstack-7951e.firebasestorage.app",
    messagingSenderId: "539252727920",
    appId: "1:539252727920:web:647722f0ad9554562a54b5"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const logoutBtn = document.getElementById("logout-btn");
  const navUser = document.getElementById("nav-user");

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      window.location.href = "index.html";
      return;
    }

    const firstName = user.displayName
      ? user.displayName.split(" ")[0]
      : "User";

    // Update navbar name
    if (navUser) {
      navUser.textContent = `Signed in: ${firstName}`;
    }

    // If home page greeting exists
    const homeGreeting = document.getElementById("user-greeting");
    if (homeGreeting) {
      homeGreeting.textContent = `Signed in: ${firstName}`;
    }
  });

  logoutBtn.addEventListener("click", () => {
    signOut(auth)
      .then(() => {
        window.location.href = "index.html";
      })
      .catch((error) => {
        console.error("Logout error:", error);
      });
  });
</script>
</body>
</html>
<!----END FOOTER--->
